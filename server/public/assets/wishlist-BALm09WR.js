import{c as a,a as d}from"./redux-BWM5Hhun.js";import{a as t}from"./cart-BewrXa47.js";const n={items:[],loading:!1,error:null},r=a("wishlist/fetchWishlist",async(i,{rejectWithValue:s})=>{try{return(await t.get("https://furnishly.online/api/wishlist",{withCredentials:!0})).data.data.items}catch(e){return t.isAxiosError(e)?s(e.response?.data?.message||"Failed to fetch wishlist"):s(e instanceof Error?e.message:"Failed to fetch wishlist")}}),h=a("wishlist/addToWishlistAPI",async(i,{rejectWithValue:s})=>{try{return(await t.post("https://furnishly.online/api/wishlist/add",{product:i},{withCredentials:!0})).data.data.items}catch(e){return t.isAxiosError(e)?s(e.response?.data?.message||"Failed to add to wishlist"):s(e instanceof Error?e.message:"Failed to add to wishlist")}}),m=a("wishlist/removeFromWishlistAPI",async(i,{rejectWithValue:s})=>{try{return(await t.delete(`https://furnishly.online/api/wishlist/remove/${i}`,{withCredentials:!0})).data.data.items}catch(e){return t.isAxiosError(e)?s(e.response?.data?.message||"Failed to remove from wishlist"):s(e instanceof Error?e.message:"Failed to remove from wishlist")}}),o=d({name:"wishlist",initialState:n,reducers:{addToWishlist(i,s){i.items.find(l=>l._id===s.payload._id)||i.items.push(s.payload)},removeFromWishlist(i,s){i.items=i.items.filter(e=>e._id!==s.payload)},setWishlistItems:(i,s)=>{i.items=s.payload}},extraReducers:i=>{i.addCase(r.pending,s=>{s.loading=!0,s.error=null}).addCase(r.fulfilled,(s,e)=>{s.loading=!1,s.items=e.payload}).addCase(r.rejected,(s,e)=>{s.loading=!1,s.error=e.payload}).addCase(h.fulfilled,(s,e)=>{s.items=e.payload}).addCase(m.fulfilled,(s,e)=>{s.items=e.payload})}}),{addToWishlist:p,removeFromWishlist:u,setWishlistItems:w}=o.actions,y=o.reducer;export{h as a,r as f,m as r,w as s,y as w};
