import{j as e,r as f}from"./router-Cw9W2VPt.js";import{P as v}from"./ProductCardBase-DswX1Of-.js";import{u as w}from"./useWishlist-BBalLzcA.js";import{S as b,a as y,b as k,c as F,R as j,d as c,L as n,u as C}from"./index-C-cGNFZt.js";import{B as S}from"./shadcn-D0D_yQn8.js";import{A as W,a as u,b as p,c as g}from"./accordion-DPstC-wD.js";import{F as N}from"./icons-lkuTPY-4.js";import"./cart-BewrXa47.js";import"./wishlist-BALm09WR.js";import{N as P}from"./NotAuthorizedPage-CcSqDRpC.js";import"./vendor-DJG_os-6.js";import"./redux-BWM5Hhun.js";import"./query-UWIsBdtC.js";import"./utils-CjxovF-h.js";import"./user-ByFsq5Pz.js";import"./ui-BRLOXzHy.js";const L=({sidebar:t,main:r})=>e.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[e.jsx("aside",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r bg-white",children:t}),e.jsx("main",{className:"flex-1 p-4",children:r})]});function A({product:t}){const{removeFromWishlist:r}=w(),i=async()=>{await r(t._id)};return e.jsx(v,{product:t,showWishlistButton:!0,showAddToCartButton:!0,onWishlistClick:i})}const R=({products:t,totalItems:r})=>e.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 justify-center mx-auto",children:[r===0&&e.jsx("div",{className:"col-span-full text-center text-muted-foreground",children:"Your wishlist is empty. Start adding some products!"}),r>0&&t.length===0&&e.jsx("div",{className:"col-span-full text-center text-muted-foreground",children:"No products match your current filters."}),t.map(i=>e.jsx("div",{className:"flex justify-center",children:e.jsx(A,{product:i})},i._id))]});function B({filters:t,setFilters:r,sort:i,onSortChange:o}){const d=["Office","Living Room","Bedroom","Dining Room"],a=["Wood","Leather","Fabric","Wood and Metal"],m=(s,l)=>{r(x=>{const h=new Set(x[s]);return h.has(l)?h.delete(l):h.add(l),{...x,[s]:Array.from(h)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden p-4 flex items-center",children:e.jsxs(b,{children:[e.jsx(y,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"md:w-50","aria-label":"Open filters",children:["Filter ",e.jsx(N,{className:"w-5 h-5"})]})}),e.jsxs(k,{side:"left",className:"max-w-xs p-4",children:[e.jsx(F,{children:e.jsxs("span",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"})," Filters"]})}),e.jsxs("div",{className:"flex flex-col gap-6 mt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-2",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(s=>e.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[e.jsx("input",{type:"checkbox",checked:t.category.includes(s),onChange:()=>m("category",s),className:"accent-black"}),s]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-2",children:"Material"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(s=>e.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[e.jsx("input",{type:"checkbox",checked:t.material.includes(s),onChange:()=>m("material",s),className:"accent-black"}),s]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"px-2 text-xs font-medium tracking-wide text-muted-foreground uppercase mb-2",children:"Sort by"}),e.jsxs(j,{value:i,onValueChange:o,className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{value:"default",id:"sort-default"}),e.jsx(n,{htmlFor:"sort-default",children:"Default"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{value:"title",id:"sort-title"}),e.jsx(n,{htmlFor:"sort-title",children:"Title"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{value:"price-low-high",id:"sort-low-high"}),e.jsx(n,{htmlFor:"sort-low-high",children:"Price: Low to High"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{value:"price-high-low",id:"sort-high-low"}),e.jsx(n,{htmlFor:"sort-high-low",children:"Price: High to Low"})]})]})]})]})]})]})}),e.jsx("div",{className:"hidden md:block p-4",children:e.jsxs(W,{type:"multiple",className:"w-full space-y-1",children:[e.jsxs(u,{value:"category",children:[e.jsx(p,{className:"px-2 text-xs font-medium tracking-wide text-muted-foreground uppercase",children:"Category"}),e.jsx(g,{children:e.jsx("div",{className:"flex flex-col gap-2",children:d.map(s=>e.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.category.includes(s),onChange:()=>m("category",s),className:"mr-2 accent-black"}),s]},s))})})]}),e.jsxs(u,{value:"material",children:[e.jsx(p,{className:"px-2 text-xs font-medium tracking-wide text-muted-foreground uppercase",children:"Material"}),e.jsx(g,{children:e.jsx("div",{className:"flex flex-col gap-2",children:a.map(s=>e.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.material.includes(s),onChange:()=>m("material",s),className:"mr-2 accent-black"}),s]},s))})})]}),e.jsxs(u,{value:"sort",children:[e.jsx(p,{className:"px-2 text-xs font-medium tracking-wide text-muted-foreground uppercase",children:"Sort by"}),e.jsx(g,{children:e.jsxs(j,{value:i,onValueChange:o,className:"flex flex-col gap-2 px-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[e.jsx(c,{value:"default",id:"sort-default-desktop"}),e.jsx(n,{htmlFor:"sort-default-desktop",className:"text-sm text-muted-foreground font-normal cursor-pointer",children:"Default"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[e.jsx(c,{value:"title",id:"sort-title-desktop"}),e.jsx(n,{htmlFor:"sort-title-desktop",className:"text-sm text-muted-foreground font-normal cursor-pointer",children:"Title"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[e.jsx(c,{value:"price-low-high",id:"sort-low-high-desktop"}),e.jsx(n,{htmlFor:"sort-low-high-desktop",className:"text-sm text-muted-foreground font-normal cursor-pointer",children:"Price: Low to High"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[e.jsx(c,{value:"price-high-low",id:"sort-high-low-desktop"}),e.jsx(n,{htmlFor:"sort-high-low-desktop",className:"text-sm text-muted-foreground font-normal cursor-pointer",children:"Price: High to Low"})]})]})})]})]})})]})}const H=({filters:t,setFilters:r,sort:i,onSortChange:o})=>e.jsx(B,{filters:t,setFilters:r,sort:i,onSortChange:o}),T=()=>{const[t,r]=f.useState({category:[],material:[]}),[i,o]=f.useState("default"),{items:d}=w(),a=d.filter(s=>{const l=t.category.length===0||t.category.includes(s.category),x=t.material.length===0||t.material.includes(s.material);return l&&x});return{products:(()=>{switch(i){case"title":return[...a].sort((s,l)=>s.title.localeCompare(l.title));case"price-low-high":return[...a].sort((s,l)=>s.price-l.price);case"price-high-low":return[...a].sort((s,l)=>l.price-s.price);default:return a}})(),totalItems:d.length,filters:t,setFilters:r,sort:i,setSort:o}};function I(){const{products:t,totalItems:r,filters:i,setFilters:o,sort:d,setSort:a}=T();return e.jsx(L,{sidebar:e.jsx(H,{filters:i,setFilters:o,sort:d,onSortChange:a}),main:e.jsx(R,{products:t,totalItems:r})})}const $=function(){const{data:r,isPending:i}=C();return i?e.jsx("div",{className:"flex justify-center items-center h-96",children:"Loading..."}):r?e.jsx(I,{}):e.jsx(P,{})};export{$ as component};
