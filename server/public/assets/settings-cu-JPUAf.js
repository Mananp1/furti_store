import{j as e,r as n}from"./router-Cw9W2VPt.js";import{e as Q,u as P,f as X}from"./index-C-cGNFZt.js";import{N as ee}from"./NotAuthorizedPage-CcSqDRpC.js";import{c,b as h,C as j,a as N,d as v,e as b,g as A,B as p,I as y}from"./shadcn-D0D_yQn8.js";import{y as se,z as R,A as _,B as F,E as O,n as te,o as ae,u as I,W as re,c as le,p as ne,f as oe,F as ie,s as ce,H as de,q as L,r as me,O as ue}from"./ui-BRLOXzHy.js";import{S as xe,a as ge,b as fe,c as pe,d as he}from"./select-Baesy25u.js";import{a as je,F as Ne,b as D,c as S,d as w,e as C,f as T}from"./zod-D_yRXS8p.js";import{u as ve,o as be,s as E}from"./forms-CL1apIa9.js";import{h as Ae,i as ye,O as De,U as Se}from"./icons-lkuTPY-4.js";import"./vendor-DJG_os-6.js";import"./redux-BWM5Hhun.js";import"./query-UWIsBdtC.js";import"./utils-CjxovF-h.js";import"./cart-BewrXa47.js";import"./user-ByFsq5Pz.js";import"./wishlist-BALm09WR.js";const we=({children:s})=>e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:s})}),Ce=({title:s="Settings",description:t="Manage your account settings and preferences"})=>e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:s}),e.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:t})]}),Te=se,$=n.forwardRef(({className:s,...t},a)=>e.jsx(R,{ref:a,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));$.displayName=R.displayName;const M=n.forwardRef(({className:s,...t},a)=>e.jsx(_,{ref:a,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));M.displayName=_.displayName;const Ee=n.forwardRef(({className:s,...t},a)=>e.jsx(F,{ref:a,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));Ee.displayName=F.displayName;const Pe=({activeTab:s,onTabChange:t,tabOptions:a})=>a.length<=1?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sm:hidden mb-6",children:e.jsxs(xe,{value:s,onValueChange:t,children:[e.jsx(ge,{className:"w-full",children:e.jsx(fe,{children:a.find(r=>r.value===s)?.label})}),e.jsx(pe,{children:a.map(r=>{const l=r.icon;return e.jsx(he,{value:r.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),r.label]})},r.value)})})]})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(Te,{value:s,onValueChange:t,className:"space-y-6",children:e.jsx($,{className:"grid w-full grid-cols-4 gap-1",children:a.map(r=>{const l=r.icon;return e.jsxs(M,{value:r.value,className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),r.label]},r.value)})})})})]});var k="AlertDialog",[Re,ws]=le(k,[O]),m=O(),z=s=>{const{__scopeAlertDialog:t,...a}=s,r=m(t);return e.jsx(te,{...r,...a,modal:!0})};z.displayName=k;var _e="AlertDialogTrigger",U=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,l=m(a);return e.jsx(ae,{...l,...r,ref:t})});U.displayName=_e;var Fe="AlertDialogPortal",V=s=>{const{__scopeAlertDialog:t,...a}=s,r=m(t);return e.jsx(me,{...r,...a})};V.displayName=Fe;var Oe="AlertDialogOverlay",H=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,l=m(a);return e.jsx(ue,{...l,...r,ref:t})});H.displayName=Oe;var g="AlertDialogContent",[Ie,Le]=Re(g),$e=ie("AlertDialogContent"),B=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,children:r,...l}=s,u=m(a),o=n.useRef(null),x=I(t,o),i=n.useRef(null);return e.jsx(re,{contentName:g,titleName:G,docsSlug:"alert-dialog",children:e.jsx(Ie,{scope:a,cancelRef:i,children:e.jsxs(ne,{role:"alertdialog",...u,...l,ref:x,onOpenAutoFocus:oe(l.onOpenAutoFocus,d=>{d.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx($e,{children:r}),e.jsx(ke,{contentRef:o})]})})})});B.displayName=g;var G="AlertDialogTitle",W=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,l=m(a);return e.jsx(ce,{...l,...r,ref:t})});W.displayName=G;var q="AlertDialogDescription",Y=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,l=m(a);return e.jsx(de,{...l,...r,ref:t})});Y.displayName=q;var Me="AlertDialogAction",Z=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,l=m(a);return e.jsx(L,{...l,...r,ref:t})});Z.displayName=Me;var J="AlertDialogCancel",K=n.forwardRef((s,t)=>{const{__scopeAlertDialog:a,...r}=s,{cancelRef:l}=Le(J,a),u=m(a),o=I(t,l);return e.jsx(L,{...u,...r,ref:o})});K.displayName=J;var ke=({contentRef:s})=>{const t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${q}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},ze=z,Ue=U,Ve=V,He=H,Be=B,Ge=Z,We=K,qe=W,Ye=Y;function Ze({...s}){return e.jsx(ze,{"data-slot":"alert-dialog",...s})}function Je({...s}){return e.jsx(Ue,{"data-slot":"alert-dialog-trigger",...s})}function Ke({...s}){return e.jsx(Ve,{"data-slot":"alert-dialog-portal",...s})}function Qe({className:s,...t}){return e.jsx(He,{"data-slot":"alert-dialog-overlay",className:c("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function Xe({className:s,...t}){return e.jsxs(Ke,{children:[e.jsx(Qe,{}),e.jsx(Be,{"data-slot":"alert-dialog-content",className:c("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function es({className:s,...t}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:c("flex flex-col gap-2 text-center sm:text-left",s),...t})}function ss({className:s,...t}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:c("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function ts({className:s,...t}){return e.jsx(qe,{"data-slot":"alert-dialog-title",className:c("text-lg font-semibold",s),...t})}function as({className:s,...t}){return e.jsx(Ye,{"data-slot":"alert-dialog-description",className:c("text-muted-foreground text-sm",s),...t})}function rs({className:s,...t}){return e.jsx(Ge,{className:c(h(),s),...t})}function ls({className:s,...t}){return e.jsx(We,{className:c(h({variant:"outline"}),s),...t})}const ns=be({firstName:E().min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters").optional(),lastName:E().min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters").optional()}),os=({session:s,profile:t,isUpdating:a,isDeleting:r,onUpdateProfile:l,onDeleteAccount:u})=>{const[o,x]=n.useState(!1),i=ve({resolver:je(ns),defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||""}});n.useEffect(()=>{t&&i.reset({firstName:t.firstName||"",lastName:t.lastName||""})},[t,i]);const d=f=>{l(f),x(!1)};return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(j,{children:[e.jsxs(N,{className:"pb-4 sm:pb-6",children:[e.jsx(v,{className:"text-lg sm:text-xl",children:"Account Information"}),e.jsx(b,{className:"text-sm",children:"View and manage your account details"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 break-all",children:s.user.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Account Type"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:s.user.image?"Google":"Email"})]})]}),e.jsx(Q,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Profile Information"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Update your personal information"})]}),e.jsxs(p,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>x(!o),children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"}),o?"Cancel Edit":"Edit Profile"]})]}),o&&e.jsx("div",{className:"p-4 border rounded-lg bg-muted/30",children:e.jsx(Ne,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(d),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(D,{control:i.control,name:"firstName",render:({field:f})=>e.jsxs(S,{children:[e.jsx(w,{children:"First Name"}),e.jsx(C,{children:e.jsx(y,{placeholder:"Enter your first name",...f})}),e.jsx(T,{})]})}),e.jsx(D,{control:i.control,name:"lastName",render:({field:f})=>e.jsxs(S,{children:[e.jsx(w,{children:"Last Name"}),e.jsx(C,{children:e.jsx(y,{placeholder:"Enter your last name",...f})}),e.jsx(T,{})]})})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(p,{type:"submit",disabled:a,children:a?"Saving...":"Save Changes"})})]})})}),t&&!o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"First Name"}),e.jsx("p",{className:"text-sm mt-1",children:t.firstName||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Name"}),e.jsx("p",{className:"text-sm mt-1",children:t.lastName||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Member Since"}),e.jsx("p",{className:"text-sm mt-1",children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"Unknown"})]})]})]})]})]}),e.jsxs(j,{className:"border-destructive/20",children:[e.jsxs(N,{className:"pb-4 sm:pb-6",children:[e.jsx(v,{className:"text-destructive text-lg sm:text-xl",children:"Danger Zone"}),e.jsx(b,{className:"text-sm",children:"Irreversible and destructive actions"})]}),e.jsx(A,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{className:"h-5 w-5 text-destructive flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Delete Account"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Permanently delete your account and all associated data"})]})]}),e.jsxs(Ze,{children:[e.jsx(Je,{asChild:!0,children:e.jsx(p,{variant:"destructive",size:"sm",className:"w-full sm:w-auto",disabled:r,children:r?"Deleting...":"Delete Account"})}),e.jsxs(Xe,{children:[e.jsxs(es,{className:"items-center",children:[e.jsxs(ts,{children:[e.jsx("div",{className:"mb-2 mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-destructive/10",children:e.jsx(De,{className:"h-7 w-7 text-destructive"})}),"Are you absolutely sure?"]}),e.jsx(as,{className:"text-[15px] text-center",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers, including:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 mt-2",children:[e.jsx("li",{children:"• Your profile information"}),e.jsx("li",{children:"• Order history"}),e.jsx("li",{children:"• Wishlist items"}),e.jsx("li",{children:"• Account preferences"})]})]}),e.jsxs(ss,{className:"mt-2 sm:justify-center",children:[e.jsx(ls,{disabled:r,children:"Cancel"}),e.jsx(rs,{className:h({variant:"destructive"}),onClick:u,disabled:r,children:r?"Deleting...":"Delete Account"})]})]})]})]})})]})]})},is=()=>{const[s,t]=n.useState("account");return{activeTab:s,setActiveTab:t,tabOptions:[{value:"account",label:"Account",icon:Se}],getTabContent:l=>{switch(l){case"account":return"account";default:return"account"}}}};function cs(){const{data:s,isPending:t}=P(),{activeTab:a,setActiveTab:r,tabOptions:l}=is(),{profile:u,isUpdating:o,isDeleting:x,updateProfile:i,deleteAccount:d}=X();return t?e.jsx("div",{className:"flex justify-center items-center h-96",children:"Loading..."}):s?e.jsxs(we,{children:[e.jsx(Ce,{}),e.jsx(Pe,{activeTab:a,onTabChange:r,tabOptions:l}),e.jsx("div",{className:"mt-6",children:e.jsx(os,{session:s,profile:u,isUpdating:o,isDeleting:x,onUpdateProfile:i,onDeleteAccount:d})})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Not Authorized"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to access your settings."}),e.jsx(p,{asChild:!0,children:e.jsx("a",{href:"/login",children:"Sign In"})})]})})}const Cs=function(){const{data:t,isPending:a}=P();return a?e.jsx("div",{className:"flex justify-center items-center h-96",children:"Loading..."}):t?e.jsx(cs,{}):e.jsx(ee,{})};export{Cs as component};
